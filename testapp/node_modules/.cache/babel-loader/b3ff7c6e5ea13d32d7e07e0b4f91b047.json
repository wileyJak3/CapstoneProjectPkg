{"ast":null,"code":"var _jsxFileName = \"/Users/wjackson28/Desktop/School/Per_Scholas/cassini/mod3/project/capstoneProject/testapp/src/components/Cart.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport axios from 'axios';\nimport DeleteItem from './DeleteItem';\nimport ApiContext from './contexts/ApiContext';\n\nfunction Cart() {\n  const [nameOfCartItem, setNameOfCartItem] = useState(\"\");\n  const [priceOfCartItem, setPriceOfCartItem] = useState(\"\");\n  const [cartObject, setCartObject] = useState({\n    cartName: \"\",\n    cartOwner: \"\"\n  });\n  const [cart, setCart] = useState(null); //! ─── Context ──────────────────────────────────────────────────────────────────\n\n  const apiContextData = useContext(ApiContext);\n\n  async function grabAllCart() {\n    try {\n      const res = await axios.get('http://localhost:8281/cart');\n      setCart(res.data);\n    } catch (e) {\n      console.error(e, e.message);\n    }\n  }\n\n  useEffect(() => {\n    grabAllCart();\n    firstPhone();\n  }, []);\n\n  function handleChange(e) {\n    const {\n      value,\n      id\n    } = e.target;\n    setCartObject({ ...cartObject,\n      [id]: value\n    });\n  } // console.log(nameOfPhone);\n  // console.log(priceOfPhone);\n\n\n  async function firstPhone() {\n    // e.preventDefault();\n    setNameOfCartItem(\"iPhone 11 128GB Red\");\n    setPriceOfCartItem(\"$749.00\");\n    console.log(nameOfCartItem);\n    console.log(priceOfCartItem);\n  } // useEffect(() => {\n  //     firstPhone();\n  // }, [])\n\n\n  async function postPhone(e) {\n    e.preventDefault();\n\n    try {\n      // nameOfPhone ? firstPhone() : 'Loading...';\n      cartObject.cartName = nameOfCartItem;\n      cartObject.cartOwner = priceOfCartItem;\n      const res = await axios.post('http://localhost:8281/cart', cartObject);\n      console.log(res.data);\n      const secondRes = await axios.get('http://localhost:8281/cart');\n      setCart(secondRes.data);\n    } catch (e) {\n      console.error(e, e.message);\n    }\n  }\n\n  console.log(apiContextData);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"phoneOne\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onChange: e => handleChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"\",\n    width: \"400px\",\n    src: \"https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone11-red-select-2019?wid=940&hei=1112&fmt=png-alpha&qlt=80&.v=1566956144763\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"iPhone 11\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, \"128GB Red\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, \"$749.00\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      firstPhone(e);\n      postPhone(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, \"Add to Cart\")), cart ? cart.map(cartItem => /*#__PURE__*/React.createElement(DeleteItem, {\n    idParam: cartItem.cartId,\n    name: cartItem.cartName,\n    cartPrice: cartItem.cartPrice,\n    getCart: grabAllCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 53\n    }\n  })) : 'Loading...', cart ? apiContextData[0].setCartD(cart) : null));\n}\n\nexport default Cart;","map":{"version":3,"sources":["/Users/wjackson28/Desktop/School/Per_Scholas/cassini/mod3/project/capstoneProject/testapp/src/components/Cart.js"],"names":["React","useEffect","useState","useContext","axios","DeleteItem","ApiContext","Cart","nameOfCartItem","setNameOfCartItem","priceOfCartItem","setPriceOfCartItem","cartObject","setCartObject","cartName","cartOwner","cart","setCart","apiContextData","grabAllCart","res","get","data","e","console","error","message","firstPhone","handleChange","value","id","target","log","postPhone","preventDefault","post","secondRes","map","cartItem","cartId","cartPrice","setCartD"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext }from 'react';\nimport axios from 'axios';\nimport DeleteItem from './DeleteItem';\nimport ApiContext from './contexts/ApiContext';\n\nfunction Cart() {\n    const [nameOfCartItem, setNameOfCartItem] = useState(\"\");\n    const [priceOfCartItem, setPriceOfCartItem] = useState(\"\");\n    const [cartObject, setCartObject] = useState({cartName: \"\", cartOwner: \"\"});\n    const [cart, setCart] = useState(null);\n\n\n    //! ─── Context ──────────────────────────────────────────────────────────────────\n    const apiContextData = useContext(ApiContext);\n\n    async function grabAllCart() {\n        try {\n            const res = await axios.get('http://localhost:8281/cart');\n            setCart(res.data);\n        } catch(e) {\n            console.error(e, e.message);\n        }\n    }\n\n    useEffect(() => {\n        grabAllCart();\n        firstPhone();\n    }, [])\n\n    function handleChange(e) {\n        const{ value, id } = e.target;\n        setCartObject({...cartObject, [id]: value })\n    }\n\n    // console.log(nameOfPhone);\n    // console.log(priceOfPhone);\n    async function firstPhone() {\n        // e.preventDefault();\n        setNameOfCartItem(\"iPhone 11 128GB Red\");\n        setPriceOfCartItem(\"$749.00\");\n        console.log(nameOfCartItem);\n        console.log(priceOfCartItem);\n    }\n\n    // useEffect(() => {\n    //     firstPhone();\n    // }, [])\n\n    async function postPhone(e) {\n        e.preventDefault();\n        try {\n            // nameOfPhone ? firstPhone() : 'Loading...';\n            cartObject.cartName = nameOfCartItem\n            cartObject.cartOwner = priceOfCartItem\n\n            const res = await axios.post('http://localhost:8281/cart', cartObject)\n            console.log(res.data);\n\n            const secondRes = await axios.get('http://localhost:8281/cart');\n            setCart(secondRes.data);\n\n        } catch(e) {\n            console.error(e, e.message);\n        }\n    }\n\n    console.log(apiContextData)\n\n\n        return (\n            <div>\n                <div className = \"phoneOne\">\n                    <form onChange = { (e) => handleChange(e) }>\n                        <img alt = \"\" width = \"400px\" src = \"https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone11-red-select-2019?wid=940&hei=1112&fmt=png-alpha&qlt=80&.v=1566956144763\"/>\n                        <h2>iPhone 11</h2>\n                        <h2>128GB Red</h2>\n                        <h3>$749.00</h3>\n                        <button \n                        onClick= { (e) => {\n                            firstPhone(e);\n                            postPhone(e);\n                        }} >Add to Cart</button>\n                    </form>\n                    {\n                        cart ? cart.map(cartItem => <DeleteItem idParam={ cartItem.cartId } name={ cartItem.cartName} cartPrice={ cartItem.cartPrice } getCart = { grabAllCart } />) : 'Loading...' \n\n                        \n                    }\n                    {cart ? apiContextData[0].setCartD(cart):null}\n                    {/* {console.log(apiContextData[0].cartData)} */}\n                </div>\n            </div>\n        )\n    }\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}