{"ast":null,"code":"var _jsxFileName = \"/Users/wjackson28/Desktop/School/Per_Scholas/cassini/mod3/project/capstoneProject/testapp/src/components/Cart.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport axios from 'axios';\nimport DeleteItem from './DeleteItem';\nimport ApiContext from './contexts/ApiContext'; //function called first to set the store the values from db i\n\nfunction Cart() {\n  const [nameOfCartItem, setNameOfCartItem] = useState(\"\");\n  const [priceOfCartItem, setPriceOfCartItem] = useState(\"\");\n  const [cartObject, setCartObject] = useState({\n    cartName: \"\",\n    cartOwner: \"\"\n  }); // const [inventoryObj, setInventory] = useState({inventoryName:\"\", inventoryImg:\"\"});\n\n  const [cart, setCart] = useState([]);\n  const [inventory, setInventory] = useState(null); //! ─── Context ──────────────────────────────────────────────────────────────────\n\n  const apiContextData = useContext(ApiContext); // async function grabAllCart() {\n  //     try {\n  //         const res = await axios.get('http://localhost:8281/cart');\n  //         setCart(res.data);\n  //         const res2 = await axios.get('http://localhost:8281/inventory');\n  //         setInventory(res2.data);\n  //     } catch(e) {\n  //         console.error(e, e.message);\n  //     }\n  // }\n  // useEffect(() => {\n  //     grabAllCart();\n  //     firstPhone();\n  // }, [])\n  // function handleChange(e) {\n  //     const{ value, id } = e.target;\n  //     setCartObject({...cartObject, [id]: value })\n  // }\n  // // console.log(nameOfPhone);\n  // // console.log(priceOfPhone);\n  // async function firstPhone() {\n  //     // e.preventDefault();\n  //     setNameOfCartItem(\"iPhone 11 128GB Red\");\n  //     setPriceOfCartItem(\"$749.00\");\n  //     console.log(nameOfCartItem);\n  //     console.log(priceOfCartItem);\n  // }\n  // useEffect(() => {\n  //     firstPhone();\n  // }, [])\n\n  async function postPhone(e) {\n    e.preventDefault();\n\n    try {\n      // nameOfPhone ? firstPhone() : 'Loading...';\n      cartObject.cartName = nameOfCartItem;\n      cartObject.cartOwner = priceOfCartItem;\n      const res = await axios.post('http://localhost:8281/cart', cartObject);\n      console.log(res.data);\n      const secondRes = await axios.get('http://localhost:8281/cart');\n      setCart(secondRes.data);\n    } catch (e) {\n      console.error(e, e.message);\n    }\n  }\n\n  console.log(apiContextData);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, cart ? apiContextData[0].setCartData(cart) : null, cart ? apiContextData[2].setInventoryData(inventory) : null);\n}\n\nexport default Cart;","map":{"version":3,"sources":["/Users/wjackson28/Desktop/School/Per_Scholas/cassini/mod3/project/capstoneProject/testapp/src/components/Cart.js"],"names":["React","useEffect","useState","useContext","axios","DeleteItem","ApiContext","Cart","nameOfCartItem","setNameOfCartItem","priceOfCartItem","setPriceOfCartItem","cartObject","setCartObject","cartName","cartOwner","cart","setCart","inventory","setInventory","apiContextData","postPhone","e","preventDefault","res","post","console","log","data","secondRes","get","error","message","setCartData","setInventoryData"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAsD,OAAtD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,UAAP,MAAuB,uBAAvB,C,CAGA;;AACA,SAASC,IAAT,GAAgB;AACZ,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCP,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAACQ,eAAD,EAAkBC,kBAAlB,IAAwCT,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC;AAACY,IAAAA,QAAQ,EAAE,EAAX;AAAeC,IAAAA,SAAS,EAAE;AAA1B,GAAD,CAA5C,CAHY,CAIZ;;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACgB,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,CAAC,IAAD,CAA1C,CANY,CASZ;;AACA,QAAMkB,cAAc,GAAGjB,UAAU,CAACG,UAAD,CAAjC,CAVY,CAYZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA,iBAAee,SAAf,CAAyBC,CAAzB,EAA4B;AACxBA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAI;AACA;AACAX,MAAAA,UAAU,CAACE,QAAX,GAAsBN,cAAtB;AACAI,MAAAA,UAAU,CAACG,SAAX,GAAuBL,eAAvB;AAEA,YAAMc,GAAG,GAAG,MAAMpB,KAAK,CAACqB,IAAN,CAAW,4BAAX,EAAyCb,UAAzC,CAAlB;AACAc,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB;AAEA,YAAMC,SAAS,GAAG,MAAMzB,KAAK,CAAC0B,GAAN,CAAU,4BAAV,CAAxB;AACAb,MAAAA,OAAO,CAACY,SAAS,CAACD,IAAX,CAAP;AAEH,KAXD,CAWE,OAAMN,CAAN,EAAS;AACPI,MAAAA,OAAO,CAACK,KAAR,CAAcT,CAAd,EAAiBA,CAAC,CAACU,OAAnB;AACH;AACJ;;AAGDN,EAAAA,OAAO,CAACC,GAAR,CAAYP,cAAZ;AAGI,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAkBSJ,IAAI,GAAGI,cAAc,CAAC,CAAD,CAAd,CAAkBa,WAAlB,CAA8BjB,IAA9B,CAAH,GAAuC,IAlBpD,EAmBSA,IAAI,GAAGI,cAAc,CAAC,CAAD,CAAd,CAAkBc,gBAAlB,CAAmChB,SAAnC,CAAH,GAAiD,IAnB9D,CADJ;AAyBH;;AAEL,eAAeX,IAAf","sourcesContent":["import React, { useEffect, useState, useContext }from 'react';\nimport axios from 'axios';\nimport DeleteItem from './DeleteItem';\nimport ApiContext from './contexts/ApiContext';\n\n\n//function called first to set the store the values from db i\nfunction Cart() {\n    const [nameOfCartItem, setNameOfCartItem] = useState(\"\");\n    const [priceOfCartItem, setPriceOfCartItem] = useState(\"\");\n    const [cartObject, setCartObject] = useState({cartName: \"\", cartOwner: \"\"});\n    // const [inventoryObj, setInventory] = useState({inventoryName:\"\", inventoryImg:\"\"});\n    const [cart, setCart] = useState([]);\n    const [inventory, setInventory] = useState(null);\n\n\n    //! ─── Context ──────────────────────────────────────────────────────────────────\n    const apiContextData = useContext(ApiContext);\n\n    // async function grabAllCart() {\n    //     try {\n    //         const res = await axios.get('http://localhost:8281/cart');\n    //         setCart(res.data);\n    //         const res2 = await axios.get('http://localhost:8281/inventory');\n    //         setInventory(res2.data);\n    //     } catch(e) {\n    //         console.error(e, e.message);\n    //     }\n    // }\n\n    // useEffect(() => {\n    //     grabAllCart();\n    //     firstPhone();\n    // }, [])\n\n    // function handleChange(e) {\n    //     const{ value, id } = e.target;\n    //     setCartObject({...cartObject, [id]: value })\n    // }\n\n    // // console.log(nameOfPhone);\n    // // console.log(priceOfPhone);\n    // async function firstPhone() {\n    //     // e.preventDefault();\n    //     setNameOfCartItem(\"iPhone 11 128GB Red\");\n    //     setPriceOfCartItem(\"$749.00\");\n    //     console.log(nameOfCartItem);\n    //     console.log(priceOfCartItem);\n    // }\n\n    // useEffect(() => {\n    //     firstPhone();\n    // }, [])\n\n    async function postPhone(e) {\n        e.preventDefault();\n        try {\n            // nameOfPhone ? firstPhone() : 'Loading...';\n            cartObject.cartName = nameOfCartItem\n            cartObject.cartOwner = priceOfCartItem\n            \n            const res = await axios.post('http://localhost:8281/cart', cartObject)\n            console.log(res.data);\n\n            const secondRes = await axios.get('http://localhost:8281/cart');\n            setCart(secondRes.data);\n\n        } catch(e) {\n            console.error(e, e.message);\n        }\n    }\n\n    \n    console.log(apiContextData)\n\n\n        return (\n            <div>\n                {/* <div className = \"phoneOne\">\n                    <form onChange = { (e) => handleChange(e) }>\n                        <img alt = \"\" width = \"400px\" src = \"https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone11-red-select-2019?wid=940&hei=1112&fmt=png-alpha&qlt=80&.v=1566956144763\"/>\n                        <h2>iPhone 11</h2>\n                        <h2>128GB Red</h2>\n                        <h3>$749.00</h3>\n                        <button \n                        onClick= { (e) => {\n                            firstPhone(e);\n                            postPhone(e);\n                        }} >Add to Cart</button>\n                    </form>\n                    {\n                        cart ? cart.map(cartItem => <DeleteItem idParam={ cartItem.cartId } name={ cartItem.cartName} cartPrice={ cartItem.cartPrice } getCart = { grabAllCart } />) : 'Loading...' \n\n                        \n                    } */}\n                    {cart ? apiContextData[0].setCartData(cart):null}\n                    {cart ? apiContextData[2].setInventoryData(inventory):null}\n                    {/* {console.log(apiContextData[0].cartData)} */}\n                {/* </div> */}\n            </div>\n        )\n    }\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}